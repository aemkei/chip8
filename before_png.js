V.width=64;n=[];for(a=80;a--;)n[a]=e("0x"+"F999F26227F1F8FF1F1F99F11F8F1FF8F9FF1244F9F9FF9F1FF9F99E9E9EF888FE999EF8F8FF8F88"[a]+0);for(a=3;8192>a;a+=4)q.data[a]=255;V=(U=Uint8Array)(16);D=[];h=512;g=r=w=k=0;s=[]; with(new XMLHttpRequest)open("GET",location.hash.slice(1)),send(responseType="arraybuffer",onload=function(){u=U(response);for(a=3584;a--;)n[a+512]=u[a];setInterval(function(){w&&w--;for(F=4;F--;){p=n[h]<<8|n[h+1];f=p>>12;x=p&4095;d=p&255;l=p&15;b=p>>8&15;z=V[b];m=V[p>>4&15];if(224==p)for(a=3;8192>a;a+=4)q.data[a]=255;238==p&&(h=D.pop());1==f&&(h=x-2);2==f&&(D.push(h),h=x-2);if(3==f&&z==d||4==f&&z!=d||5==f&&z==m||9==f&&z!=m||14==f&&(158==d&&s[z]||161==d&&!s[z]))h+=2;6==f&&(V[b]=d);7==f&&(V[b]=z+d); 8==f&&(l||(V[b]=m),1==l&&(V[b]|=m),2==l&&(V[b]&=m),3==l&&(V[b]^=m),4==l&&(V[15]=+(255<(V[b]+=m))),5==l&&(V[15]=+(0<=(V[b]-=m))),6==l&&(V[15]=z&1,V[b]/=2),7==l&&(V[15]=+(0<=(V[b]=m-z))),14==l&&(V[15]=z>>7,V[b]*=2));10==f&&(k=x);11==f&&(h=x+V[0]);12==f&&(V[b]=~~(Math.random()*d));if(13==f)for(V[15]=0,a=l;a--;)for(B=8;B--;)y=z+B,A=m+a,n[k+a]>>7-B&1&&(63<y&&(y-=63),31<A&&(A-=31),u=4*(64*A+y)+3,q.data[u]?q.data[u]=0:(q.data[u]=255,V[15]=1));if(15==f){7==d&&(V[b]=w);10==d&&(~(V[b]=s.indexOf("w"))||(h-= 2));21==d&&(w=z);30==d&&(k+=z,V[15]=+(4095<k),k&=4095);41==d&&(k=5*z);if(51==d)for(a=3;a--;)n[k+a]=(""+z)[a];if(85==d)for(a=b;a--;)n[k+a]=V[a];if(101==d)for(a=b;a--;)V[a]=n[k+a]}h+=2}C.putImageData(q,0,0)},16)});onkeydown=onkeyup=function(c){s[[0,7,8,9,4,5,6,1,2,3,33,39,21,34,36,41].indexOf(c.keyCode%48)]=c.type[5]}